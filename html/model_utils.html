
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>model_utils module &#8212; Moonshot  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="statistic module" href="statistic.html" />
    <link rel="prev" title="gui_helper module" href="gui_helper.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-model_utils">
<span id="model-utils-module"></span><h1>model_utils module<a class="headerlink" href="#module-model_utils" title="Permalink to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="model_utils.MyModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">model_utils.</span></span><span class="sig-name descname"><span class="pre">MyModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'model'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mymodel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'yolov5x'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hyps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'hyps/moon_hyp_params.yaml'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yaml</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mars.yaml'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#model_utils.MyModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="data_manager.html#data_manager.DataManager" title="data_manager.DataManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataManager</span></code></a></p>
<p>Model utilities aimed to simplify handling of the models</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>DataManager</strong> (<em>Class</em>) – extends DataManager class</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="model_utils.MyModel.get_latest_prediction">
<span class="sig-name descname"><span class="pre">get_latest_prediction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#model_utils.MyModel.get_latest_prediction" title="Permalink to this definition">¶</a></dt>
<dd><p>get the latest predictions based on the time of the run</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>directory with the latest predictions</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="model_utils.MyModel.get_predicted_images">
<span class="sig-name descname"><span class="pre">get_predicted_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">which_run</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'exp10'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#model_utils.MyModel.get_predicted_images" title="Permalink to this definition">¶</a></dt>
<dd><p>display yolo autogenerated predicted images with lables</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>which_run</strong> (<em>str</em><em>, </em><em>optional</em>) – location of the last run. Defaults to ‘exp10’.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>file location</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="model_utils.MyModel.get_predicted_labels">
<span class="sig-name descname"><span class="pre">get_predicted_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">which_run</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'exp10'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#model_utils.MyModel.get_predicted_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>get location of the CSV file with yolo generated lable predictions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>which_run</strong> (<em>str</em><em>, </em><em>optional</em>) – location of the last run. Defaults to ‘exp10’.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>file location</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="model_utils.MyModel.get_predicted_labels_for_images">
<span class="sig-name descname"><span class="pre">get_predicted_labels_for_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_images</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">planet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#model_utils.MyModel.get_predicted_labels_for_images" title="Permalink to this definition">¶</a></dt>
<dd><p>prediction wrapper function used in hte GUI interface</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir_images</strong> (<em>str</em>) – location of the images to predict</p></li>
<li><p><strong>planet</strong> (<em>_type_</em>) – which planetary body (mars or moon)</p></li>
<li><p><strong>output</strong> (<em>bool</em><em>, </em><em>optional</em>) – False or str. specifies destination for the predictions csv files. we are using
the same destination as the original images folder for moons model there fore accept False. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>on success</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="model_utils.MyModel.plot_test_image">
<span class="sig-name descname"><span class="pre">plot_test_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#model_utils.MyModel.plot_test_image" title="Permalink to this definition">¶</a></dt>
<dd><p>plot a sample test image with lable plotted as a rectangle</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img</strong> (<em>string</em>) – location of the image to plot - lable will be derived based on image location</p></li>
<li><p><strong>structure</strong> (<em>expected</em>) – <dl class="simple">
<dt>datatset:</dt><dd><p>——-&gt; images (<em>.png)
——-&gt; labes (</em>.txt)</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
<p>returns nothing</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="model_utils.MyModel.plot_train_metircs">
<span class="sig-name descname"><span class="pre">plot_train_metircs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">which_run</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'yolo_moons5'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#model_utils.MyModel.plot_train_metircs" title="Permalink to this definition">¶</a></dt>
<dd><p>plots training metrics generated by the yolo model automatically</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>which_run</strong> (<em>str</em><em>, </em><em>optional</em>) – location of the latest model run to extract metrics from. Defaults to ‘yolo_moons5’.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="model_utils.MyModel.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">best_w</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">416</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_predictions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#model_utils.MyModel.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>use for making predictions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>best_w</strong> (<em>_type_</em>) – best weights for making predictions - generated by training models stored in weights folder undeer root dir</p></li>
<li><p><strong>img_size</strong> (<em>int</em><em>, </em><em>optional</em>) – image size. Defaults to 416.</p></li>
<li><p><strong>conf</strong> (<em>float</em><em>, </em><em>optional</em>) – confidence level. Defaults to 0.4.</p></li>
<li><p><strong>dir_predictions</strong> (<em>str</em><em>, </em><em>optional</em>) – location for predictions. Defaults to ‘’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>return 0 on success or error</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>_type_</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Moonshot</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">acds-moonshot-xenophanes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="convert_tool.html">convert_tool module</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_manager.html">data_manager module</a></li>
<li class="toctree-l2"><a class="reference internal" href="gui_helper.html">gui_helper module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">model_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="statistic.html">statistic module</a></li>
<li class="toctree-l2"><a class="reference internal" href="testfile.html">testfile module</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_int.html">user_int module</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualisation.html">visualisation module</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="modules.html">acds-moonshot-xenophanes</a><ul>
      <li>Previous: <a href="gui_helper.html" title="previous chapter">gui_helper module</a></li>
      <li>Next: <a href="statistic.html" title="next chapter">statistic module</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Xenophanes.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/model_utils.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>